# ğŸ”§ å¿«é€Ÿä¿®å¤ç¼–è¯‘é”™è¯¯

## é—®é¢˜ç—‡çŠ¶

```
error: 'class Settings' has no member named 'GetInt64'
error: 'class Settings' has no member named 'SetInt64'
```

## âœ… å·²ç»ä¿®å¤çš„å†…å®¹

1. âœ… ç§»é™¤äº† `pet_system.cc` ä¸­ä¸å¿…è¦çš„å¤´æ–‡ä»¶åŒ…å«
2. âœ… æ¸…ç†äº†æ„å»ºç›®å½•

## ğŸš€ ç«‹å³ä¿®å¤æ­¥éª¤

### åœ¨ VSCode ä¸­æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š

#### ç¬¬ 1 æ­¥ï¼šå®Œå…¨æ¸…ç†æ„å»º
åœ¨ VSCode åº•éƒ¨ç»ˆç«¯ä¸­è¿è¡Œï¼š
```bash
cd /Users/machenyang/Desktop/xiaozhi-esp32-main
rm -rf build
```

#### ç¬¬ 2 æ­¥ï¼šé‡æ–°ç¼–è¯‘
ç‚¹å‡»åº•éƒ¨çŠ¶æ€æ çš„ **ğŸ”¨ Build** æŒ‰é’®

æˆ–è€…åœ¨ç»ˆç«¯ä¸­è¿è¡Œï¼š
```bash
idf.py build
```

#### ç¬¬ 3 æ­¥ï¼šç­‰å¾…ç¼–è¯‘å®Œæˆ
åº”è¯¥çœ‹åˆ°ï¼š
```
[100%] Built target xiaozhi.elf
Project build complete.
```

---

## ğŸ¯ å¦‚æœè¿˜æœ‰é—®é¢˜

### æ–¹æ¡ˆ Aï¼šæ£€æŸ¥ Settings ç±»
```bash
# ç¡®è®¤ Settings ç±»å®šä¹‰æ­£ç¡®
cat main/settings.h | grep GetInt64
# åº”è¯¥çœ‹åˆ°ï¼šint64_t GetInt64(const std::string& key, int64_t default_value = 0);

cat main/settings.h | grep SetInt64  
# åº”è¯¥çœ‹åˆ°ï¼švoid SetInt64(const std::string& key, int64_t value);
```

### æ–¹æ¡ˆ Bï¼šå®Œå…¨é‡å»º ESP-IDF ç¯å¢ƒ
å¦‚æœä¸Šè¿°æ–¹æ³•éƒ½ä¸è¡Œï¼Œå¯èƒ½éœ€è¦é‡æ–°é…ç½® ESP-IDFï¼š

```bash
cd /Users/machenyang/Desktop/xiaozhi-esp32-main
rm -rf build managed_components/.component_hash
idf.py reconfigure
idf.py build
```

---

## ğŸ“Š ç¼–è¯‘æˆåŠŸéªŒè¯

ç¼–è¯‘æˆåŠŸåï¼Œæ£€æŸ¥æ—¥å¿—ä¸­æ˜¯å¦æœ‰ï¼š

```
I (xxx) Pet: âœ¨ Initialized 18 pet types
I (xxx) Pet: ğŸ¾ Starting pet system...
I (xxx) Pet: ğŸ“¥ Loaded pet state from NVS: ğŸ± çŒ«å’ª
I (xxx) Pet: âœ… Pet system started successfully
```

---

## ğŸ’¡ ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ä¸ªé”™è¯¯ï¼Ÿ

åˆ é™¤æ„å»ºç›®å½•åï¼ŒCMake éœ€è¦é‡æ–°ç”Ÿæˆæ‰€æœ‰ä¾èµ–å…³ç³»ã€‚ä¹‹å‰çš„ `pet_system.cc` åŒ…å«äº† `application.h`ï¼Œå¯èƒ½å¯¼è‡´å¤´æ–‡ä»¶å¾ªç¯ä¾èµ–ï¼Œä½¿å¾— Settings ç±»å®šä¹‰ä¸å®Œæ•´ã€‚

ç°åœ¨å·²ç»ç§»é™¤äº†ä¸å¿…è¦çš„åŒ…å«ï¼Œé—®é¢˜åº”è¯¥è§£å†³äº†ã€‚

---

**ä¿®å¤çŠ¶æ€**: âœ… ä»£ç å·²ä¿®å¤  
**ä¸‹ä¸€æ­¥**: åœ¨ VSCode ä¸­é‡æ–°ç¼–è¯‘  
**é¢„è®¡æ—¶é—´**: 3-5 åˆ†é’Ÿ

