# 🤖 小智 AI 机器人 - 用户功能清单

## 📋 基于您的设备日志分析

**设备型号**: Otto Robot  
**固件版本**: 2.0.3  
**语音模型**: 优化版（VADNet1 + NSNet2 神经网络）

---

## 🎤 核心语音交互功能

### 1. 智能语音对话 ⭐
- ✅ **离线语音唤醒**：说"你好小智"即可唤醒（无需联网）
- ✅ **流式对话体验**：边说边回复，响应速度快
- ✅ **打断功能（Barge-in）**：可以随时打断机器人说话
- ✅ **连续对话**：一次唤醒后可以持续对话
- ✅ **声纹识别**：识别不同说话人的身份（需后台配置）

**体验示例**：
```
用户: "你好小智"  ← 唤醒词
机器人: "哎呀，你好咯！" [同时做动作]
用户: "今天天气怎么样？"
机器人: [查询并回答]
```

---

## 🕺 Otto 机器人动作控制（您的专属功能）

### 2. 基础移动
| 功能 | 语音指令示例 | 说明 |
|------|------------|------|
| **向前/后走** | "向前走"、"后退" | 可指定步数，如"向前走5步" |
| **左右转** | "左转"、"右转"、"转身" | 可快速转身或慢慢转 |
| **跳跃** | "跳一下"、"跳跃" | 可指定跳多少次 |

### 3. 舞蹈动作 💃
| 功能 | 语音指令示例 | 说明 |
|------|------------|------|
| **摇摆** | "摇摆"、"跳舞" | 左右摇摆动作 |
| **太空步** | "太空步"、"月球漫步" | 经典 MJ 舞步 |
| **上下运动** | "上下运动" | 弯曲身体上下跳动 |
| **弯腰** | "弯腰"、"鞠躬" | 左右弯腰动作 |
| **摇腿** | "摇腿" | 单腿或双腿摇动 |

### 4. 手部动作（如果配置了手臂舵机）
| 功能 | 语音指令示例 | 说明 |
|------|------------|------|
| **挥手** | "挥手"、"打招呼" | 打招呼动作 |
| **举手** | "举手" | 举起左手/右手/双手 |
| **放手** | "放手" | 放下手臂 |

### 5. 情感互动 ❤️
- ✅ **根据对话内容自动做动作**
  - 同意时：点头或跳跃
  - 打招呼：挥手
  - 高兴时：摇摆或举手
  - 思考时：弯腰
  - 告别时：挥手

**特色**：Otto 有"强迫症"，每次说话前都会随机做一个动作！

---

## 🎨 显示与表情

### 6. 动态表情显示
- ✅ **多种表情**：开心、难过、中性、思考等
- ✅ **聊天消息显示**：屏幕上显示对话内容
- ✅ **状态指示**：显示当前设备状态（监听中、说话中等）

**您的日志中看到的表情**：
- `neutral` - 中性
- `happy` - 开心
- `sad` - 难过

---

## ⚙️ 设备控制功能（通过对话控制）

### 7. 音量控制 🔊
- ✅ "把音量调到50"
- ✅ "调大声一点"
- ✅ "调小声音"

### 8. 屏幕亮度控制 💡
- ✅ "把屏幕调亮一点"
- ✅ "把亮度设置到80"
- ✅ "屏幕太暗了"

### 9. 主题切换 🎨
- ✅ "切换到深色主题"
- ✅ "改成浅色主题"

### 10. 电池状态查询 🔋
- ✅ "电量还有多少？"
- ✅ "电池还能用多久？"
- ✅ 自动电量提醒（低电量时）

---

## 🌐 系统管理功能

### 11. 系统信息查询 ℹ️
- ✅ "你的版本是多少？"
- ✅ "系统信息"
- ✅ "内存使用情况"

**您的设备信息**：
- 固件版本：2.0.3
- 空闲内存：~121-136 KB
- 芯片：ESP32-S3

### 12. 固件升级 🔄
- ✅ "检查更新"
- ✅ "升级固件"
- ✅ 自动 OTA 升级（后台检测）

### 13. 重启设备 🔁
- ✅ "重启"
- ✅ "重新启动"

---

## 🎯 AI 能力扩展（通过云端 MCP）

### 14. 智能家居控制（需后台配置）
- ✅ 控制智能灯泡、插座、空调等
- ✅ "打开客厅的灯"
- ✅ "把空调温度调到26度"

### 15. 知识搜索
- ✅ "帮我查一下今天天气"
- ✅ "什么是量子力学？"
- ✅ 实时信息查询

### 16. 计算与翻译
- ✅ "123乘以456等于多少？"
- ✅ "把这句话翻译成英语"

### 17. 个性化对话
- ✅ 可在后台设置角色（您的 Otto 设置成了四川话的"小川"）
- ✅ 记忆上下文
- ✅ 多轮对话

---

## 📡 网络与连接

### 18. WiFi 管理
- ✅ 自动连接已保存的 WiFi
- ✅ WiFi 配置（通过网页）
- ✅ 网络状态查询

### 19. MQTT 远程控制
- ✅ 通过 xiaozhi.me 云端控制
- ✅ 实时音频流传输
- ✅ 远程命令执行

---

## 🎵 音频处理（您已优化的高级功能）

### 20. 神经网络音频处理 🧠⭐
您的设备配置了最先进的音频处理：

- ✅ **VADNet1 神经网络 VAD**：精准识别人声
- ✅ **NSNet2 神经网络降噪**：强力去除环境噪音
- ✅ **WebRTC AGC**：自动增益控制（15dB）
- ✅ **语音增强（SE）**：突出人声频段
- ✅ **大容量缓冲**：Ringbuffer = 1000，避免溢出

**效果**：
- 🎯 在嘈杂环境下也能准确识别语音
- 🎯 自动过滤风噪、电流声、背景音乐
- 🎯 人声检测更灵敏，几乎零误触发

---

## 🎮 多语言支持

### 21. 语言切换
- ✅ 中文（默认）
- ✅ 英文
- ✅ 日文

---

## 🔧 开发者功能（如需自定义）

### 22. 自定义唤醒词
- ✅ 可自定义唤醒词（需重新编译）
- ✅ 支持多个唤醒词

### 23. 自定义表情和字体
- ✅ 可上传自己的表情包
- ✅ 可自定义聊天背景
- ✅ 使用 [xiaozhi-assets-generator](https://github.com/78/xiaozhi-assets-generator) 在线生成

### 24. GPIO 控制（需代码配置）
- ✅ 控制外接 LED、继电器等
- ✅ 读取传感器数据
- ✅ 扩展更多硬件功能

---

## 📊 您的设备当前配置总结

### 硬件配置
- **芯片**: ESP32-S3
- **麦克风**: 单声道（1 个）
- **扬声器**: 已配置
- **显示屏**: Otto Emoji Display
- **舵机**: 4-6 个（腿部 + 手部）
- **电池**: 已配置电量检测

### 音频处理流水线
```
[麦克风输入] 
  → |NSNet2 神经网络降噪| 
  → |WebRTC AGC 增益控制| 
  → |VADNet1 神经网络人声检测| 
  → [输出到语音识别]
```

### 唤醒词检测
```
[麦克风输入] 
  → |VAD (WebRTC)| 
  → |WakeNet9 唤醒词检测| 
  → 识别"你好小智"
```

---

## 🎯 推荐体验场景

### 场景 1：日常聊天
```
用户: "你好小智"
Otto: [跳一下] "哎呀，你好咯！"
用户: "给我讲个笑话"
Otto: [摇摆] "好嘞！有个..."
```

### 场景 2：控制动作
```
用户: "你好小智"
Otto: "在呢~"
用户: "跳个舞"
Otto: [执行摇摆动作 5 次]
用户: "再来个太空步"
Otto: [执行太空步动作]
```

### 场景 3：查询信息
```
用户: "你好小智"
Otto: "听着呢！"
用户: "今天成都天气怎么样？"
Otto: [查询后回答] "今天成都..."
```

### 场景 4：打断功能
```
Otto: "我来给你讲一个很长很长的故事..."
用户: "你好小智" [打断]
Otto: [立即停止，音量降低] "哎呀你好！"
```

---

## 💡 使用技巧

1. **提高识别率**
   - 在较安静的环境下使用
   - 唤醒后等待"叮"的一声再说话
   - 说话清晰，不要太快或太慢

2. **动作控制**
   - 可以连续发多个动作指令
   - 说"停止"可以立即停止动作
   - 调整速度参数可以让动作更流畅

3. **电量管理**
   - 定期充电（电量低于 20% 会提醒）
   - 长时间不用可以说"休眠"进入低功耗模式

4. **网络优化**
   - WiFi 信号强度影响响应速度
   - 建议使用 5GHz WiFi（如果设备支持）

---

## 🆘 常见问题

**Q: 为什么有时候不响应唤醒词？**  
A: 可能是环境太吵，VAD 没有检测到人声。尝试靠近一点说话。

**Q: 动作执行不流畅怎么办？**  
A: 调整 `speed` 参数（建议 900-1200），或检查舵机是否卡住。

**Q: 如何查看电量？**  
A: 说"你好小智"，然后问"电量还有多少？"

**Q: 可以自定义唤醒词吗？**  
A: 可以！使用 [xiaozhi-assets-generator](https://github.com/78/xiaozhi-assets-generator) 生成自定义唤醒词模型。

**Q: MQTT 警告是什么？**  
A: 网络丢包导致的顺序错误，不影响使用，可以忽略。

---

## 📚 进一步学习

- [官方文档](https://ccnphfhqs21z.feishu.cn/wiki/F5krwD16viZoF0kKkvDcrZNYnhb)
- [MCP 协议说明](docs/mcp-usage.md)
- [自定义开发板指南](docs/custom-board.md)
- [Otto 机器人专属文档](main/boards/otto-robot/README.md)

---

**创建时间**: 2025-10-22  
**固件版本**: 2.0.3  
**设备型号**: Otto Robot  
**音频优化**: ✅ VADNet1 + NSNet2 神经网络

